# Misuse this overlay for some Android properties

# Set properties early in the boot process
on early-init
    setprop debug.stagefright.ccodec 0

# Set properties during initialization
on init
    setprop debug.stagefright.ccodec 0

# Set properties during boot and load WLAN module
on boot
    setprop debug.stagefright.ccodec 0
    setprop ubuntu.unity8.interactive_blur true
    setprop ubuntu.widi.supported 1

    # Load WLAN module if available
    if [ -f /android/vendor/lib/modules/qca_cld3_wlan.ko ]; then
        insmod /android/vendor/lib/modules/qca_cld3_wlan.ko

        # Check if the module is loaded successfully
        if [ $? -eq 0 ]; then
            setprop wlan.module.loaded 1
        else
            setprop wlan.module.loaded 0
            log -p e -t wlan "Failed to load WLAN module"
        fi
    else
        setprop wlan.module.loaded 0
        log -p e -t wlan "WLAN module not found"
    fi

# Disable unused services for HYBRIS

service time_daemon vendor.time_daemon_HYBRIS_DISABLED
    disabled
    oneshot
    override

service vendor.imsqmidaemon vendor.imsqmidaemon_HYBRIS_DISABLED
    disabled
    oneshot
    override

service vendor.imsrcsservice vendor.imsrcsservice_HYBRIS_DISABLED
    disabled
    oneshot
    override


